{% extends "aulaweb/base.html" %}
{% load static %}

{% block conteudo %}
<link rel="stylesheet" href="{% static 'css/detail_product.css' %}">

<div class="container">
  {% if produto.url %}
    <img src="{{ produto.url }}" 
          alt="{{ produto.nome }}" 
          class="produto-imagem"
          onerror="this.onerror=null; this.src='{% static 'image/placeholder.png' %}'"
    />
  {% else %}
    <div class="imagem-placeholder">
      <span class="placeholder-text">Sem imagem</span>
    </div>
  {% endif %}

  <div class="produto-nome">{{ produto.nome }}</div>
  
  <div class="produto-preco">
    <span class="preco-valor">R$ {{ produto.preco }}</span>
    {% if produto.desconto %}
      <span class="produto-desconto">-{{ produto.desconto }}%</span>
    {% endif %}
  </div>
  
  <div class="produto-meta">
    <span class="produto-categoria">{{ produto.categoria }}</span>
    {% if produto.estoque %}
      <span class="produto-estoque {% if produto.estoque < 10 %}estoque-baixo{% endif %}">
        {% if produto.estoque < 10 %}
          ‚ö†Ô∏è Apenas {{ produto.estoque }} em estoque
        {% else %}
          Em estoque
        {% endif %}
      </span>
    {% endif %}
  </div>
  
  <div class="produto-descricao">{{ produto.descricao }}</div>
  
  <div class="produto-acoes">
    <button class="btn-comprar" data-produto-id="{{ produto.id }}">
      <span class="btn-icon">üõí</span> Adicionar ao Carrinho
    </button>
    <a href="javascript:history.back()" class="btn-voltar">
      <span class="btn-icon">‚Üê</span> Voltar
    </a>
  </div>
  
  {% if produto.caracteristicas %}
  <div class="produto-caracteristicas">
    <h3>Caracter√≠sticas</h3>
    <ul>
      {% for key, value in produto.caracteristicas.items %}
      <li><strong>{{ key }}:</strong> {{ value }}</li>
      {% endfor %}
    </ul>
  </div>
  {% endif %}
</div>

<script src="{% static 'js/detail_product.js' %}"></script>
{% endblock %}